\chapter{Holomorphic Functions}

Given a function $f : \C \to \C$, when is $f$
differentiable and what does that imply?

\section{Revisiting Multivariable Calculus}
When is a function $f : \R^2 \to \R^2$ differentiable?

Recall that calculus is \textit{linearization}. That is,
given something complicated, zoom in close enough and
it looks like a line.

\begin{mybox}{nordblue}{Definition (Little-$o$)}
  We say $E = o(|h|)$ if
  \[\frac{E}{|h|} \to 0\]
  as $|h| \to 0$.
\end{mybox}

\begin{mybox}{nordblue}{Definition (Differentiability in $\R^2$)}
  $f : \R^2 \to \R^2$ is \textit{differentiable} at
  $z$ if
  \[f(z + h) = f(z) + Lh + o(|h|),\]
  where $L$ is a linear map.
\end{mybox}

In other words, $f : \R^n \to \R^m$ is differentiable if
it is \textit{locally affine}. If
$f(x_1, \dots, x_m) = (f_1(\vec{x}), \dots, f_m(\vec{x}))$,
then
\[
f(z + h) = f(z) + Lh + o(|h|)
.\] 
Here $L$ is the \textit{total derivative}, given by
\[
  L = \left(\frac{\partial f_i}{\partial x_j}\right)_{ij}.
\]

\section{Holomorphic Functions}
We can identify a function $f(x, y) = (u, v)$ with
the complex-valued function $f(x + iy) = u + iv$, where
we write that $u = \Re f$ and $v = \Im f$. Here,
\[
L =
\left(\begin{matrix}
  u_x & u_y \\
  v_x & v_y
\end{matrix}\right)
.\] 

Using the additional structure of the complex numbers
(instead of just 2D vectors), we can write
\[\frac{f(z + h) - f(z)}{h} = L + o(1).\]
Notice that dividing by $h$ makes no sense in $\R^n$, but
we can over $\C$.

\begin{mybox}{nordblue}{Definition (Holomorphic)}
  $f : \Omega \to \C$ is \textit{holomorphic at} $z$ if
  \[
    \lim_{h \to 0} \frac{f(z + h) - f(z)}{h}
  \]
  exists.\footnote{Here, $\Omega$ is an \textit{open subset} of
    $\C$.}
  If it does, then we call this limit $f'(z)$.

  $f$ is \textit{holomorphic on}
  $\Omega$ if the above is true for all $z \in \Omega$.
\end{mybox}

\begin{mybox}{nordblue}{Definition (Continuity)}
  $f$ is \textit{continuous} if for all $\epsilon > 0$,
  there exists a $\delta > 0$ such that whenever
  $|h|  < \delta$, we have
  \[
  |f(z + h) - f(z)| < \epsilon
  .\] 
\end{mybox}

How can we visualize these functions?
To graph a function $f : \R^2 \to \R^2$, we would need
$\R^4$ with 4 dimensions. This is hard. Instead,
we show a ``before'' and ``after'' image.

% insert of a picture of the above here

\subsection{Classic Example: Smooth but Not Analytic}
Let
\[
f(z) =
\begin{cases}
  e^{-1 / z^2}, & z \neq 0 \\
  0, & z = 0.
\end{cases}
\] 

Over $\R$, as $z \to 0$, $-\frac{1}{z^2} \to -\infty$
and $f \to 0$.  And as $|z| \to \infty$, $f \to e^0 = 1$. 
So $f$ is continuous. $f$ is also differentiable,
with
\[f'(z) = 2z^{-3}e^{-\frac{1}{z^2}}.\]
Notice that as $z \to 0$, $f' \to 0$ as well. What
about further derivatives?
\[
  f^{(n)}(z) = P_n(z^{-1})e^{-\frac{1}{z^2}}
,\] 
so $f^{(n)} \to 0$ also as $z \to 0$. So
$f \in C^\infty(\R)$.\footnote{Meaning $f$ is \textit{smooth}, or infinitely
differentiable.}

Now take
\[
g(z) =
\begin{cases}
  e^{-1 / z^2}, & z > 0 \\
  0, & z \le 0.
\end{cases}
\]
This is an example of a \textit{smooth bump function}.\footnote{These are used in real analysis, particularly
for \textit{partitions of unity}.}
All derivatives of $g$ are $0$ for $z > 0$ as before,
and they are also $0$ for $z \le 0$ by definition. So
$g$ is also smooth, with $f \equiv g$ on $z \ge 0$ and
$f \ne g$ on $z < 0$.

Notice that $f$ and $g$ both extend
$\left.e^{-1 / z^2}\right\rvert_{\R^+}$ to all of $\R$,
yet $f \ne g$. We will see later that this cannot
happen for complex-analytic functions.\footnote{This is the fact that \textit{analytic continuations} are \textit{unique}.}

\begin{mybox}{nordblue}{Definition (Analytic)}
  A function $f$ is \textit{analytic} at $z$ if there
  exists an $\epsilon > 0$ and $a_0, a_1, a_2, \dots$
  such that for all $|h| < \epsilon$, the power series
  \[
  a_0 + a_1 h + a_2 h^2 + \dots
  = \sum_{i = 0}^{\infty} a_i h^i
  \] 
  converges absolutely and is equal to $f(z + h)$.
\end{mybox}

In simpler words, $f$ is analytic at $z$ if it has a
locally convergent Taylor series expansion around $z$.

Now, is
\[
f(z) =
\begin{cases}
  e^{-1 / z^2}, & z \neq 0 \\
  0, & z = 0
\end{cases}
\] 
analytic at $0$? All the Taylor coefficients
are zero:
\[
  a_0 = a_1 = a_2 = \dots = 0
.\]
Thus the series expansion of $f$ converges to $0$, but
there is no neighborhood of $0$ where $f \equiv 0$.
So $f$ is \textit{not} analytic. This also cannot
happen for complex-valued functions.\footnote{This is why the terms \textit{holomorphic} and
\textit{analytic} are often used interchangeably in
  complex analysis.}

What about $f(z) = e^{-1 / z^2}$ for $z \in \C$?
Now, $f$ isn't even continuous! If $z \to 0$
from $\R$, $f \to 0$. But if $z = iy$ with $y \to 0$,
\[f(z) = e^{-\frac{1}{(iy)^2}} = e^{\frac{1}{y^2}},\]
which approaches $\infty$. The two paths give conflicting
limits!\footnote{In fact, you can make $f$ converge to
  any value by picking some path. This is because $f$
  has an \textit{essential singularity} at $0$.}

\section{The Cauchy-Riemann Equations}
Recall that $f$ being holomorphic implies
\[
  \frac{f(z + h) - f(z)}{h} \to f'(z)
\] 
as $h \to 0$ in $\C$. In $\R^2$ the equivalent is
$f(z + h) = f(z) + Lh + o(|h|)$ where $f = u + iv$ and
\[
L =
\left(\begin{matrix}
  u_x & u_y \\
  v_x & v_y
\end{matrix}\right)
.\] 

The power of $\C$ is that the previous limit is the same
no matter how $h$ approaches $0$. If we let
$h = h_1 + ih_2$, what happens when $h_2 = 0$? So
$h = h_1 \in \R$. Then as $h_1 \to 0$,
\[
  \frac{f(z + h_1) - f(z)}{h_1} \to f'(z) = \frac{\partial}{\partial x} f = u_x + iv_x
.\] 
On the other hand, if $h_1 = 0$ so that $h = ih_2$
where $h_2 \in \R$. Then as $h_2 \to 0$,
 \[
   \frac{f(z + ih_2) - f(z)}{ih_2} \to f'(z) = \frac{1}{i}\left(\frac{\partial}{\partial y} f\right) = \frac{1}{i} (u_y + iv_y)
.\]
So these two quantities must be equal!

\begin{mybox}{nordpurple}{Theorem (Cauchy-Riemann equations)}
  If $f = u + iv$ is holomorphic at $z = x + iy$, then
  $u_x = v_y$ and $v_x = -u_y$.
\end{mybox}

\section{Conformal Maps}
The Cauchy-Riemann equations imply that for holomorphic
$f$,
\[
L =
\left(\begin{matrix}
  u_x & u_y \\
  -u_y & u_x
\end{matrix}\right) =
\left(\begin{matrix}
    A & B \\
    -B & A
\end{matrix}\right)
.\]
What does this mean geometrically?

\begin{mybox}{nordpurple}{Theorem ($QR$ decomposition)}
  Any matrix $L$ can be decomposed into $L = QR$ where
  $Q$ is orthogonal\footnote{One way to define \textit{orthogonal} is that
    $Q$ is orthogonal if $QQ^T = I$.}
  and $R$ is upper-triangular.
\end{mybox}

In other words, given any matrix, we can rotate it so that
it is upper-triangular. In particular, in the case of a
$2 \times 2$ matrix $L$, we can write\footnote{Note that we factored $R$ by pulling out the
diagonal entries.}
\[
L =
\underbrace{\left(\begin{matrix}
    \cos \theta & \sin \theta \\
    -\sin \theta & \cos \theta
\end{matrix}\right)}_{K}
\underbrace{\left(\begin{matrix}
    x_1 & 0 \\
    0 & x_2
\end{matrix}\right)}_{A}
\underbrace{\left(\begin{matrix}
    1 & C \\
    0 & 1
\end{matrix}\right)}_{N}
,\]
where $K$ is ``compact,'' $A$ is ``abelian,''\footnote{Or ``diagonal.''}
and $N$ is ``unipotent.''\footnote{Same as saying all eigenvalues are $1$.}
This is the \textit{Iwasawa decomposition}.

% add images here showing this
Notably, $K$ is a rotation, $A$ is a dilation, and $N$
is a shear.

\begin{mybox}{nordred}{Exercise}
  If
  \[
  L =
  \left(\begin{matrix}
      A & B \\
      -B & A
  \end{matrix}\right)
  ,\]
  then $C = 0$ and $x_1 = x_2$. In other words, there
  is no shearing and the dilation is uniform.
\end{mybox}

The above exercise implies that locally, angles are
\textit{preserved} by $L$. This is called
\textit{conformal}.

\subsection{Orientation}
Consider the Jacobian of $f$:
\[
J = \det L = u_x^2 + u_y^2 > 0
\]
since $u_x, u_y \in \R$. So in addition to being
conformal, $L$ also preserves \textit{orientations}.

Note that in general, conformal maps need not preserve
orientation. The map $f(z) = \overline{z}$ is perfectly
conformal, but it reverses orientation.

\subsection{Dilation}
By the Cauchy-Riemann equations,
\[
\det L = u_x^2 + u_y^2 = u_x^2 + (-v_x)^2
= u_x^2 + v_x^2 = \left\lvert\smash[b]{\underbrace{u_x + iv_x}_{\frac{\partial}{\partial x} f = f'(z)}}\right\rvert^2
.\]
So $\det L = |f'(z)|^2$.

The important takeaway is that the extra geometry from
division by complex numbers (in addition to just being a
usual vector space) adds a lot of restrictions (and
in turn nice properties).

\section{Change of Variables Perspective}
Recall the differential operator
$\frac{\partial}{\partial x}$:
\[
\frac{\partial}{\partial x} f = u_x + iv_y
.\]
This is if we think of $f$ as
$f(x, y) = (u(x, y), v(x, y))$.

Now, think of $f$ as a function of two other auxiliary
variables, $z$ and $\overline{z}$.\footnote{Here, think of $z$ and $\overline{z}$ as
  independent variables. They are simply the result of
  the change of variables
  $(z, \overline{z}) = (x + iy, x - iy)$.}
Let
\[
  f_1(z, \overline{z}) = f\left(\smash[b]{\underbrace{\frac{z + \overline{z}}{2}}_{x}}, \smash[b]{\underbrace{\frac{z - \overline{z}}{2i}}_{y}}\right)
.\]
Then we can try to define the operation
$\frac{\partial}{\partial z}$:
\[
\frac{\partial}{\partial z} f_1(z, \overline{z}) =
\frac{\partial}{\partial z} f\left(\frac{z + \overline{z}}{2}, \frac{z - \overline{z}}{2i}\right) =
f_x \frac{1}{2} + f_y \frac{1}{2i}
\]
by the chain rule. So as a differential operator,
\[
\frac{\partial}{\partial z} = \frac{1}{2} \left(\frac{\partial}{\partial x} + \frac{1}{i} \frac{\partial}{\partial y}\right)
.\]
Similarly, we can define
$\frac{\partial}{\partial \overline{z}}$ by the chain rule
as
\[
\frac{\partial}{\partial \overline{z}} = \frac{1}{2} \left(\frac{\partial}{\partial x} - \frac{1}{i}\frac{\partial}{\partial y}\right)
.\]

If $f$ is holomorphic, then $u_x = v_y$ and $u_y = -v_x$
by the Cauchy-Riemann equations. So
\[
\frac{\partial}{\partial \overline{z}} f = \frac{1}{2}\left[u_x + iv_x - \frac{1}{i}(u_y + iv_y)\right]
= \frac{1}{2}\left[(u_x - v_y) + i(v_x + u_y)\right] = 0
.\]
In other words, if $f$ is holomorphic, then it is
``only a function of $z$,'' in the sense that
$\frac{\partial}{\partial \overline{z}} f = 0$.
